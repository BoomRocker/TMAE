<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="apple-touch-icon" href="TMAEicon.png">
    <title>TMAE: Counter - Terraforming Mars: Ares Expedition</title>
	
<!-- Add your favicon in the link tag -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Space Mono">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">


<!-- Link to the Roboto font from Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link href="https://fonts.googleapis.com/css?family=Orbitron&display=swap" rel="stylesheet">
<!-- CSS-->
	<link rel="stylesheet" type="text/css" href="simple-styles.css">
    <style>
      
    </style>
</head>
<body>
    <header>
        <h1>Terraforming Mars:<br>Ares Expedition Counter</h1>
    </header>
    <main>

		<div id="confirmation-modal" class="modal">
			<div class="modal-content">
				<h2>Confirm Reload</h2>
				<p>Are you sure you want to reload the page?</p>
				<button id="confirm-reload">Yes, Reload</button>
				<button id="cancel-reload">Cancel</button>
			</div>
		</div>
				<!-- Resource: Cards -->
        <div class="resource" id="cards">
            <div class="resource-header bg-cards" >
                <h2>Cards</h2>
            </div>
            <div class="resource-content">
                <p class="total">0</p>
                <div class="adjust-button" style="display:none;">
                    <button class="subtract-resource" data-resource="cards">-</button>
					<p class="increment-number">Increment: 0</p>
                    <button class="adjust-resource" data-resource="cards">+</button>
                </div>
            </div>
        </div>
		        <!-- Resource: Terraforming Rating -->
        <div class="resource" id="terraforming-rating">
            <div class="resource-header bg-terra">
                <h2>Terra Rating</h2>
            </div>
            <div class="resource-content">
                <p class="total">0</p>
				<!-- Reload Page Button -->
				<button id="reload-button"><i class="material-icons">sync</i><span class="resetText">&nbsp;Reload</span></button>
		
                <div class="adjust-button" style="display:none;">
                    <button class="subtract-resource" data-resource="terraforming-rating">-</button>
					<p class="increment-number">0</p>
                    <button class="adjust-resource" data-resource="terraforming-rating">+</button>
                </div>
            </div>
        </div>

        <!-- Resource: Megacredits -->
        <div class="resource" id="megacredits">
            <div class="resource-header bg-megacredits">
                <h2>Megacredits</h2>
            </div>
            <div class="resource-content">
                <p class="total">0</p>
                <div class="adjust-button">
                    <button class="subtract-resource" data-resource="megacredits">-</button>
					<p class="increment-number">Increment: 0</p>
                    <button class="adjust-resource" data-resource="megacredits">+</button>
                </div>
            </div>
        </div>    
		<!-- Resource: Heat -->
        <div class="resource" id="heat">
            <div class="resource-header bg-heat">
                <h2>Heat</h2>
            </div>
            <div class="resource-content">
                <p class="total">0</p>
                <div class="adjust-button">
                    <button class="subtract-resource" data-resource="heat">-</button>
					<p class="increment-number">Increment: 0</p>
					<button class="adjust-resource" data-resource="heat">+</button>
                </div>
            </div>
        </div>

		<!-- Resource: Plants -->
        <div class="resource" id="plants">
            <div class="resource-header bg-plants bg-plants">
                <h2>Plants</h2>
            </div>
            <div class="resource-content">
                <p class="total">0</p>
                <div class="adjust-button">
                    <button class="subtract-resource" data-resource="plants">-</button>
					<p class="increment-number">Increment: 0</p>
                    <button class="adjust-resource" data-resource="plants">+</button>
                </div>
            </div>
        </div>
	
        <!-- Resource: Titanium -->
        <div class="resource" id="titanium">
            <div class="resource-header bg-titanium">
                <h2>Titanium</h2>
            </div>
            <div class="resource-content">
                <p class="total">0</p>
                <div class="adjust-button">
                    <button class="subtract-resource" data-resource="titanium">-</button>
					<p class="increment-number">Increment: 0</p>
                    <button class="adjust-resource" data-resource="titanium">+</button>
                </div>
            </div>
        </div>
		<!-- Resource: Steel -->
        <div class="resource" id="steel">
            <div class="resource-header bg-steel">
                <h2>Steel</h2>
            </div>
            <div class="resource-content">
                <p class="total">0</p>
				<div class="adjust-button">
                    <button class="subtract-resource" data-resource="steel">-</button>
					<p class="increment-number">Increment: 0</p>
                    <button class="adjust-resource" data-resource="steel">+</button>
                </div>
            </div>
        </div>
		<div class="resource" id="hold">
	<!-- Production Button -->
        <button id="production-button">
			<i class="material-icons">factory</i><span class="nobr">&nbsp;</span><i class="material-icons">precision_manufacturing</i><span class="nobr">&nbsp;</span><i class="material-icons">front_loader</i><br><span class="productionText">Production</span>
		</button>
		</div>
		<!-- Resource: Actions -->
        <div class="resource" id="actions">
		    <div class="resource-header bg-actions">
                <h2>Actions</h2>
            </div>
			<button id="spend-megacredits-oxygen" class="action-key">
					<span class="color-megacredits">20</span>
					<i class="material-icons color-megacredits" style="font-weight:bold;">toll</i>
					<i class="material-icons arrow-forward">arrow_forward</i>
					<span class="color-sky">1</span>
					<i class="material-icons color-sky" >cloud</i>
			</button>
			<button id="spend-megacredits-temperature" class="action-key">
					<span class="color-megacredits">14</span>
					<i class="material-icons color-megacredits" style="font-weight:bold;">toll</i>
					<i class="material-icons arrow-forward">arrow_forward</i>
					<span class="color-heat">1</span>
					<i class="material-icons color-heat" >thermostat</i>
			</button>
			<br>
			<button id="spend-plants-oxygen" class="action-key">
					<span class="color-plants">8</span>
					<i class="material-icons color-plants">eco</i>
					<i class="material-icons arrow-forward">arrow_forward</i>
					<span class="color-sky">1</span>
					<i class="material-icons color-sky" >cloud</i>
			</button>
			<button id="spend-heat-temperature" class="action-key">
					<span class="color-heat">8</span>
					<i class="material-icons color-heat">whatshot</i>
					<i class="material-icons arrow-forward">arrow_forward</i>
					<span class="color-heat">1</span>
					<i class="material-icons color-heat">thermostat</i>
			</button>
			<br>
			<button id="spend-megacredits-ocean" class="action-key">
					<span class="color-megacredits">15</span>
					<i class="material-icons color-megacredits" style="font-weight:bold;">toll</i>
					<i class="material-icons arrow-forward">arrow_forward</i>
					<span class="color-ocean">1</span>
					<i class="material-icons color-ocean" style="font-weight:bold;" >public</i>
			</button>
			<button id="spend-card-megacredits" class="action-key">
					<span class="color-cards">1</span>
					<i class="material-icons color-cards">speaker</i>
					<i class="material-icons arrow-forward">arrow_forward</i>
					<span class="color-megacredits">3</span>
					<i class="material-icons color-megacredits" style="font-weight:bold;" >toll</i>
			</button>
        </div>
		

					<!-- END instructions -->

    </main>

    <div id="resource-modal" class="modal">
        <!-- Modal content goes here -->
    </div>
    <script>
        // Resource tracking variables
        const resources = {
            "terraforming-rating": 0,
            "megacredits": 0,
            "steel": 0,
            "titanium": 0,
            "plants": 0,
            "cards": 0,
            "heat": 0,
            // Add more resources here
        };

        // Increment tracking variables
        const increments = {
            "terraforming-rating": 0,
            "megacredits": 0,
            "steel": 0,
            "titanium": 0,
            "plants": 0,
            "cards": 0,
            "heat": 0,
            // Add more increments here
        };

        // Function to update resource display
        function updateResourceDisplay() {
            for (const resourceName in resources) {
                const resourceTotal = resources[resourceName];
                const increment = increments[resourceName];
                document.querySelector(`#${resourceName} .total`).textContent = resourceTotal;
                document.querySelector(`#${resourceName} .increment-number`).textContent = `${increment}`;
            }
        }

        // Event listener for adjusting resources (increment)
        document.querySelectorAll(".adjust-resource").forEach(button => {
            button.addEventListener("click", function() {
                const resourceName = this.getAttribute("data-resource");
                increments[resourceName]++;
                updateResourceDisplay();
            });
        });

        // Event listener for subtracting resources (decrement)
        document.querySelectorAll(".subtract-resource").forEach(button => {
            button.addEventListener("click", function() {
                const resourceName = this.getAttribute("data-resource");
                if (increments[resourceName] > 0) {
                    increments[resourceName]--;
                    updateResourceDisplay();
                }
            });
        });

        // Event listener for total numbers to open the modal
        document.querySelectorAll(".total").forEach(totalElement => {
            totalElement.addEventListener("click", function() {
                const resourceName = this.parentElement.parentElement.id; // Get the resource ID
                const resourceTotal = resources[resourceName];
                const modalContent = `
                    <div class="modal-content">
                        <!--<h2>${resourceName}</h2>-->
                        <h2 class="totaler">Total: ${resourceTotal}</h2>
                        <!--<p>Increment: <span id="increment-display">${increments[resourceName]}</span></p>-->
                        <input type="number" id="resource-input" value="">
                        <div class="number-pad">
                            <button class="number" data-value="1">1</button>
                            <button class="number" data-value="2">2</button>
                            <button class="number" data-value="3">3</button>
                            <button class="number" data-value="4">4</button>
                            <button class="number" data-value="5">5</button>
                            <button class="number" data-value="6">6</button>
                            <button class="number" data-value="7">7</button>
                            <button class="number" data-value="8">8</button>
                            <button class="number" data-value="9">9</button>
                            <button class="number" data-value="0">0</button>
                            <button class="number clear" data-value="clear">Clear</button>
                        </div>
						<span class="liner">
							<button id="close-modal">Close</button>
							<button id="gain-resource">Gain</button>
							<button id="spend-resource">Spend</button
						</span>

                        <p id="error-message" style="color: red;"></p>
                    </div>
                `;
                const modalElement = document.querySelector("#resource-modal");
                modalElement.innerHTML = modalContent;

                // Event listeners for number pad buttons
                document.querySelectorAll(".number").forEach(numButton => {
                    numButton.addEventListener("click", function() {
                        const value = this.getAttribute("data-value");
                        const inputElement = document.querySelector("#resource-input");
                        if (value === "clear") {
                            inputElement.value = "";
                        } else {
                            inputElement.value += value;
                        }
                    });
                });

                // Event listener for the "Spend" button
                document.querySelector("#spend-resource").addEventListener("click", function() {
                    const spendAmount = parseInt(document.querySelector("#resource-input").value) || 0;
                    if (spendAmount <= resourceTotal) {
                        resources[resourceName] -= spendAmount;
                        updateResourceDisplay();
                        modalElement.classList.remove("show");
                    } else {
                        document.querySelector("#error-message").textContent = "Not enough resources to spend.";
                    }
                });

                // Event listener for the "Gain" button
                document.querySelector("#gain-resource").addEventListener("click", function() {
                    const gainAmount = parseInt(document.querySelector("#resource-input").value) || 0;
                    resources[resourceName] += gainAmount;
                    updateResourceDisplay();
                    modalElement.classList.remove("show");
                });

                // Event listener for the "Close" button
                document.querySelector("#close-modal").addEventListener("click", function() {
                    modalElement.classList.remove("show");
                });

                // Show the modal
                modalElement.classList.add("show");
            });
        });
		

		// Event listener for the "PRODUCTION" button
		document.querySelector("#production-button").addEventListener("click", function() {
			// Add the increment values to their respective totals
			resources["megacredits"] += resources["terraforming-rating"]; // Increment from Terraforming Rating to Megacredits
			resources["heat"] += increments["heat"]; // Increment from Heat
			resources["plants"] += increments["plants"]; // Increment from Plants
			
			
			// Update the megacredits total
			resources["megacredits"] += increments["megacredits"]; // Increment from Megacredits to Megacredits Total
			updateResourceDisplay();
		});

		// Handle generation button logic here
		// Add event listeners for adjusting reserve resources
		// Implement the generation button functionality

		// Initial update
		updateResourceDisplay();
		
		// Event listener for the "Reload Page" button
		document.querySelector("#reload-button").addEventListener("click", function() {
			// Show the confirmation modal
			document.querySelector("#confirmation-modal").classList.add("show");
		});

		// Event listener for the "Yes, Reload" button
		document.querySelector("#confirm-reload").addEventListener("click", function() {
			// Reload the page
			location.reload();
		});

		// Event listener for the "Cancel" button
		document.querySelector("#cancel-reload").addEventListener("click", function() {
			// Hide the confirmation modal
			document.querySelector("#confirmation-modal").classList.remove("show");
		});
		
// RESOURCES ADD

// Event listeners for spending Megacredits
document.querySelector("#spend-megacredits-oxygen").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to spend 20 Megacredits for 1 Oxygen?";
    confirmAndSpendMegacredits(confirmMessage, 20, "oxygen", 1); // Added Terraforming Rating increment of 1
});

document.querySelector("#spend-megacredits-temperature").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to spend 14 Megacredits for 1 Temperature?";
    confirmAndSpendMegacredits(confirmMessage, 14, "temperature", 1); // Added Terraforming Rating increment of 1
});

document.querySelector("#spend-plants-oxygen").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to spend 8 Plants for 1 Oxygen?";
    confirmAndSpendPlants(confirmMessage, 8, "oxygen", 1); // Added Terraforming Rating increment of 1
});

document.querySelector("#spend-heat-temperature").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to spend 8 Heat for 1 Temperature?";
    confirmAndSpendHeat(confirmMessage, 8, "temperature", 1); // Added Terraforming Rating increment of 1
});

document.querySelector("#spend-megacredits-ocean").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to spend 15 Megacredits for 1 Ocean Tile?";
    confirmAndSpendMegacredits(confirmMessage, 15, "ocean tile", 1); // Added Terraforming Rating increment of 1
});

document.querySelector("#spend-card-megacredits").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to discard 1 card to gain 3 Megacredits?";
    discardCardToGainMegacredits(confirmMessage, 1, 3); // Updated to discard 1 card to gain 3 Megacredits
});


// Event listeners for gaining resources
document.querySelector("#gain-temperature").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to gain 1 Temperature?";
    gainResource(confirmMessage, "temperature", 1); // Added Terraforming Rating increment of 1
});

document.querySelector("#gain-oxygen").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to gain 1 Oxygen?";
    gainResource(confirmMessage, "oxygen", 1); // Added Terraforming Rating increment of 1
});

document.querySelector("#gain-ocean-tile").addEventListener("click", function () {
    const confirmMessage = "Are you sure you want to gain 1 Ocean Tile?";
    gainResource(confirmMessage, "ocean tile", 1); // Added Terraforming Rating increment of 1
});

// Function to confirm and spend Megacredits
		function confirmAndSpendMegacredits(confirmMessage, cost, resource, terraformingRatingIncrement) {
			const confirmed = confirm(confirmMessage);
			if (confirmed) {
				if (resources["megacredits"] >= cost) {
					resources["megacredits"] -= cost;
					resources["terraforming-rating"] += terraformingRatingIncrement; // Increase Terraforming Rating
					updateResourceDisplay();
					alert(`You have spent ${cost} Megacredits for 1 ${resource}.`);
				} else {
					alert("Error: Not enough Megacredits to make this purchase.");
				}
			}
		}

		// Function to confirm and spend Plants
		function confirmAndSpendPlants(confirmMessage, cost, resource, terraformingRatingIncrement) {
			const confirmed = confirm(confirmMessage);
			if (confirmed) {
				if (resources["plants"] >= cost) {
					resources["plants"] -= cost;
					resources["terraforming-rating"] += terraformingRatingIncrement; // Increase Terraforming Rating
					updateResourceDisplay();
					alert(`You have spent ${cost} Plants for 1 ${resource}.`);
				} else {
					alert("Error: Not enough Plants to make this purchase.");
				}
			}
		}

		// Function to confirm and spend Heat
		function confirmAndSpendHeat(confirmMessage, cost, resource, terraformingRatingIncrement) {
			const confirmed = confirm(confirmMessage);
			if (confirmed) {
				if (resources["heat"] >= cost) {
					resources["heat"] -= cost;
					resources["terraforming-rating"] += terraformingRatingIncrement; // Increase Terraforming Rating
					updateResourceDisplay();
					alert(`You have spent ${cost} Heat for 1 ${resource}.`);
				} else {
					alert("Error: Not enough Heat to make this purchase.");
				}
			}
		}

		// Function to discard a card and gain Megacredits without checking the number of cards
		function discardCardToGainMegacredits(confirmMessage, cardCost, megacreditsGain) {
			const confirmed = confirm(confirmMessage);
			if (confirmed) {
				resources["megacredits"] += megacreditsGain; // Add megacreditsGain without checking cards
				updateResourceDisplay();
				alert(`You have gained ${megacreditsGain} Megacredits.`);
			}
		}




		
		
    </script>
</body>
</html>